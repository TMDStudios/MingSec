{% extends "base.html" %}

{% load static %}

{% block content %}
    {% if user.is_authenticated %}
        <div>
            <h1>Camera Request</h1>
            <form method="POST" action="/request/">
                {% csrf_token %}
                <p>
                    <label for="id_cam_type">Request Type:</label>
                    {{ form.cam_type }}
                </p>
                <p>
                    <label for="id_camera">Select Camera:</label>
                    {{ form.camera }}
                </p>
                <p>
                    <label for="id_length">Video Length (Optional):</label>
                    {{ form.length }}
                </p>
                <input type="submit" value="Submit">
            </form>
            
            <p><a href="{% url 'frontend:logout' %}">Log Out</a></p>
        </div>
        <hr>
        <div>
            <h3>Log Files</h3>
            <div id="log-file-links">
                {% for f in log_files %}
                    <p><a href="#" class="log-link" data-log-file="{{ f }}">{{ f }}</a></p>
                {% endfor %}
            </div>
        </div>
        <hr>
        <div>
            <h3>Selected Log</h3>
            <div id="loading-message" style="display: none;">Loading...</div>
            <div id="log-content">
                {% for line in log_data %}
                    <p>{{ line }}</p>
                {% endfor %}
            </div>
        </div>        
    {% endif %}
{% endblock %}

{% block scripts %}
    <script src="{% static 'js/app.js' %}"></script>  {# Load your JavaScript file here #}
{% endblock %}